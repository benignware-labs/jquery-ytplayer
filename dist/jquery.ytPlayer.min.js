/*! yt-player 25-02-2016 */
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&module.exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){function b(b,e){function f(a){a!==j&&(p.events&&p.events.onStateChange&&p.events.onStateChange.apply(this,arguments),j=a,i.forEach(function(a,b){a&&k.toggleClass(p.playerStateClassPrefix+a,j===b-1)}))}function g(b){var c=a.Deferred();return n?(c.resolve(m),c.promise()):(d().done(function(){l&&l.length&&l.remove(),l=a('<div class="yt-player-embed"></div>').prependTo(k);var d=a.extend(!0,{},b,{events:{onReady:function(){n||(n=!0,o&&h.playVideo(),c.resolve(m),b.events&&b.events.onReady&&b.events.onReady.apply(this,arguments),k.trigger("ytplayer:ready",arguments))},onStateChange:function(a){f(a.data),k.trigger("ytplayer:statechange",arguments)}}});m=new YT.Player(l[0],d)}),c.promise())}var h=this,i=["unstarted","ended","playing","paused","buffering",void 0,"cued"],j=-1,k=a(b),l=null,m=null,n=!1,o=!1,p={};this.update=function(b){a.extend(!0,p,b),g(p).done(function(){})},this.playVideo=function(){o=!0,n||f(3),m&&m.playVideo&&m.playVideo()},this.stopVideo=function(){o=!1,f(-1),m&&m.stopVideo&&m.stopVideo()},this.pauseVideo=function(){f(2),o=!1,m&&m.pauseVideo&&m.pauseVideo()},this.togglePlay=function(){var a=this.getPlayerState();1===a?this.pauseVideo():this.playVideo()},this.getPlayerState=function(){return m&&m.getPlayerState?m.getPlayerState():j},this.update(a.extend(!0,{playerStateClassPrefix:"",playerVars:{modestbranding:1,controls:0,rel:0,iv_load_policy:3,nologo:1,autohide:1,fs:0}},e,function(a){var b,d={};for(b in a)d[c(b)]=a[b];return d}(k.data())))}var c=function(a){return a.replace(/(\-[a-z])/g,function(a){return a.toUpperCase().replace("-","")})},d=function(){var b="https://www.youtube.com/iframe_api";return function(){var c,d,e=a.Deferred(),f=window.onYouTubeIframeAPIReady;return window.YT?void e.resolve(window.YT):(window.onYouTubeIframeAPIReady=function(){f&&f.apply(this,arguments),e.resolve(window.YT)},c=document.createElement("script"),c.src=b,d=document.getElementsByTagName("script")[0],d.parentNode.insertBefore(c,d),e.promise())}}();a.fn.ytPlayer=function(){var c=[].slice.call(arguments),d=this;return this.each(function(){return function(e){return a(this).data("ytPlayer",e=e?"object"==typeof c[0]&&e.update(c[0])&&e||e:new b(this,c[0])),d="string"==typeof c[0]&&"function"==typeof e[c[0]]?e[c[0]].apply(e,c.slice(1)):d,"undefined"!=typeof d?d:this}.call(this,a(this).data("ytPlayer"))}),d}});